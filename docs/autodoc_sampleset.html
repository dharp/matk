

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SampleSet &mdash; MATK 0 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="MATK 0 documentation" href="index.html" />
    <link rel="up" title="Class Documentation" href="autodoc.html" />
    <link rel="next" title="Parameter" href="autodoc_pest_io.html" />
    <link rel="prev" title="Observation" href="autodoc_observation.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="autodoc_pest_io.html" title="Parameter"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="autodoc_observation.html" title="Observation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MATK 0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="autodoc.html" accesskey="U">Class Documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="autodoc_observation.html"
                        title="previous chapter">Observation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="autodoc_pest_io.html"
                        title="next chapter">Parameter</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/autodoc_sampleset.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-matk.sampleset">
<span id="sampleset"></span><h1>SampleSet<a class="headerlink" href="#module-matk.sampleset" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="matk.sampleset.SampleSet">
<em class="property">class </em><code class="descclassname">matk.sampleset.</code><code class="descname">SampleSet</code><span class="sig-paren">(</span><em>name</em>, <em>samples</em>, <em>parent</em>, <em>index_start=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet" title="Permalink to this definition">¶</a></dt>
<dd><p>MATK SampleSet class - Stores information related to a sample
including parameter samples, associated responses, and sample indices</p>
<dl class="method">
<dt id="matk.sampleset.SampleSet.corner">
<code class="descname">corner</code><span class="sig-paren">(</span><em>bins=20</em>, <em>range=None</em>, <em>weights=None</em>, <em>color=u'k'</em>, <em>smooth=None</em>, <em>smooth1d=None</em>, <em>labels=None</em>, <em>label_kwargs=None</em>, <em>show_titles=False</em>, <em>title_fmt=u'.2f'</em>, <em>title_kwargs=None</em>, <em>truths=None</em>, <em>truth_color=u'#4682b4'</em>, <em>scale_hist=False</em>, <em>quantiles=None</em>, <em>verbose=False</em>, <em>fig=None</em>, <em>max_n_ticks=5</em>, <em>top_ticks=False</em>, <em>use_math_text=False</em>, <em>hist_kwargs=None</em>, <em>**hist2d_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.corner" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot corner plot using the corner package written by Dan Foreman-Mackey (<a class="reference external" href="https://pypi.python.org/pypi/corner/1.0.0">https://pypi.python.org/pypi/corner/1.0.0</a>)</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.corr">
<code class="descname">corr</code><span class="sig-paren">(</span><em>type='pearson'</em>, <em>plot=False</em>, <em>printout=True</em>, <em>plotvals=True</em>, <em>figsize=None</em>, <em>title=None</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.corr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate correlation coefficients of parameters and responses</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>type</strong> (<em>str</em>) &#8211; Type of correlation coefficient (pearson by default, spearman also avaialable)</li>
<li><strong>plot</strong> (<em>bool</em>) &#8211; If True, plot correlation matrix</li>
<li><strong>printout</strong> (<em>bool</em>) &#8211; If True, print correlation matrix with row and column headings</li>
<li><strong>plotvals</strong> (<em>bool</em>) &#8211; If True, print correlation coefficients on plot matrix</li>
<li><strong>figsize</strong> (<em>tuple(fl64,fl64)</em>) &#8211; Width and height of figure in inches</li>
<li><strong>title</strong> (<em>str</em>) &#8211; Title of plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ndarray(fl64) &#8211; Correlation coefficients</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.index_start">
<code class="descname">index_start</code><a class="headerlink" href="#matk.sampleset.SampleSet.index_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting integer value for sample indices</p>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.indices">
<code class="descname">indices</code><a class="headerlink" href="#matk.sampleset.SampleSet.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of sample indices</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.main_effects">
<code class="descname">main_effects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.main_effects" title="Permalink to this definition">¶</a></dt>
<dd><p>For each parameter, compile array of main effects.</p>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.name">
<code class="descname">name</code><a class="headerlink" href="#matk.sampleset.SampleSet.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample set name</p>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.obsnames">
<code class="descname">obsnames</code><a class="headerlink" href="#matk.sampleset.SampleSet.obsnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of observation names</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.panels">
<code class="descname">panels</code><span class="sig-paren">(</span><em>type='pearson'</em>, <em>alpha=0.2</em>, <em>figsize=None</em>, <em>title=None</em>, <em>tight=False</em>, <em>symbol='.'</em>, <em>fontsize=None</em>, <em>corrfontsize=None</em>, <em>ms=5</em>, <em>mins=None</em>, <em>maxs=None</em>, <em>frequency=False</em>, <em>bins=10</em>, <em>ylim=None</em>, <em>labels=[]</em>, <em>filename=None</em>, <em>xticks=2</em>, <em>yticks=2</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.panels" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms, scatterplots, and correlation coefficients in paired matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<em>str</em>) &#8211; Type of correlation coefficient (pearson by default, spearman also avaialable)</li>
<li><strong>alpha</strong> (<em>float</em>) &#8211; Histogram color shading</li>
<li><strong>figsize</strong> (<em>tuple(fl64,fl64)</em>) &#8211; Width and height of figure in inches</li>
<li><strong>title</strong> (<em>str</em>) &#8211; Title of plot</li>
<li><strong>tight</strong> (<em>bool</em>) &#8211; Use matplotlib tight layout</li>
<li><strong>symbol</strong> (<em>str</em>) &#8211; matplotlib symbol for scatterplots</li>
<li><strong>fontsize</strong> (<em>fl64</em>) &#8211; Size of font for axis labels</li>
<li><strong>corrfontsize</strong> (<em>fl64</em>) &#8211; Size of font for correlation coefficients</li>
<li><strong>ms</strong> (<em>fl64</em>) &#8211; Scatterplot marker size</li>
<li><strong>frequency</strong> (<em>bool</em>) &#8211; If True, the first element of the return tuple will be the counts normalized by the length of data, i.e., n/len(x)</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; Number of bins in histograms</li>
<li><strong>ylim</strong> (<em>tuples - 2 element tuples with y limits for histograms</em>) &#8211; y-axis limits for histograms.</li>
<li><strong>labels</strong> (<em>lst(str)</em>) &#8211; Names to use instead of parameter names in plot</li>
<li><strong>filename</strong> (<em>str</em>) &#8211; Name of file to save plot. File ending determines plot type (pdf, png, ps, eps, etc.). Plot types available depends on the matplotlib backend in use on the system. Plot will not be displayed.</li>
<li><strong>xticks</strong> (<em>int</em>) &#8211; Number of ticks along x axes</li>
<li><strong>yticks</strong> (<em>int</em>) &#8211; Number of ticks along y axes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.pardict">
<code class="descname">pardict</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.pardict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter dictionary for sample with specified index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<em>int</em>) &#8211; Sample index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict(fl64)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.parnames">
<code class="descname">parnames</code><a class="headerlink" href="#matk.sampleset.SampleSet.parnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of observation names</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.rank_parameter_frequencies">
<code class="descname">rank_parameter_frequencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.rank_parameter_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields a printout of parameter value frequencies in the sample set</p>
<dl class="docutils">
<dt>returns An array of tuples, each containing the parameter name tagged as min or max and a</dt>
<dd>second tuple containing the parameter value and the frequency of its appearance in the sample set.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.recarray">
<code class="descname">recarray</code><a class="headerlink" href="#matk.sampleset.SampleSet.recarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Structured (record) array of samples</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>cpus=1</em>, <em>workdir_base=None</em>, <em>save=True</em>, <em>reuse_dirs=False</em>, <em>outfile=None</em>, <em>logfile=None</em>, <em>restart_logfile=None</em>, <em>verbose=True</em>, <em>hosts={}</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run model using values in samples for parameter values
If samples are not specified, LHS samples are produced</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cpus</strong> (<em>int,dict(lst)</em>) &#8211; number of cpus; alternatively, dictionary of lists of processor ids keyed by hostnames to run models on (i.e. on a cluster); hostname provided as kwarg to model (hostname=&lt;hostname&gt;); processor id provided as kwarg to model (processor=&lt;processor id&gt;)</li>
<li><strong>workdir_base</strong> (<em>str</em>) &#8211; Base name for model run folders, run index is appended to workdir_base</li>
<li><strong>save</strong> (<em>bool</em>) &#8211; If True, model files and folders will not be deleted during parallel model execution</li>
<li><strong>reuse_dirs</strong> (<em>bool</em>) &#8211; Will use existing directories if True, will return an error if False and directory exists</li>
<li><strong>outfile</strong> (<em>str</em>) &#8211; File to write results to</li>
<li><strong>logfile</strong> (<em>str</em>) &#8211; File to write details of run to during execution</li>
<li><strong>restart_logfile</strong> (<em>str</em>) &#8211; Existing logfile containing completed runs, used to complete an incomplete sampling; Warning: sample indices are expected to match!</li>
<li><strong>hosts</strong> (<em>lst(str)</em>) &#8211; Option deprecated, use cpus instead</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple(ndarray(fl64),ndarray(fl64)) - (Matrix of responses from sampled model runs siz rows by npar columns, Parameter samples, same as input samples if provided)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.savetxt">
<code class="descname">savetxt</code><span class="sig-paren">(</span><em>outfile</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.savetxt" title="Permalink to this definition">¶</a></dt>
<dd><p>Save sampleset to file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outfile</strong> (<em>str</em>) &#8211; Name of file where sampleset will be written</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matk.sampleset.SampleSet.sse">
<code class="descname">sse</code><a class="headerlink" href="#matk.sampleset.SampleSet.sse" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum of squared errors (sse) for all samples</p>
</dd></dl>

<dl class="method">
<dt id="matk.sampleset.SampleSet.subset">
<code class="descname">subset</code><span class="sig-paren">(</span><em>boolfcn</em>, <em>obs</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.SampleSet.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect samples based on response values, remove all others</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>boofcn</strong> &#8211; Function that returns true for samples to keep and false for samples to remove</li>
<li><strong>obs</strong> (<em>str</em>) &#8211; Name of response to apply boolfcn to</li>
<li><strong>args</strong> &#8211; Additional arguments to add to boolfcn</li>
<li><strong>kwargs</strong> &#8211; Keyword arguments to add to boolfcn</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="matk.sampleset.hist">
<code class="descclassname">matk.sampleset.</code><code class="descname">hist</code><span class="sig-paren">(</span><em>rc</em>, <em>ncols=4</em>, <em>figsize=None</em>, <em>alpha=0.2</em>, <em>title=None</em>, <em>tight=False</em>, <em>mins=None</em>, <em>maxs=None</em>, <em>frequency=False</em>, <em>bins=10</em>, <em>ylim=None</em>, <em>printout=True</em>, <em>labels=[]</em>, <em>filename=None</em>, <em>fontsize=None</em>, <em>xticks=3</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms of dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncols</strong> (<em>int</em>) &#8211; Number of columns in plot matrix</li>
<li><strong>figsize</strong> (<em>tuple(fl64,fl64)</em>) &#8211; Width and height of figure in inches</li>
<li><strong>alpha</strong> (<em>float</em>) &#8211; Histogram color shading</li>
<li><strong>title</strong> (<em>str</em>) &#8211; Title of plot</li>
<li><strong>tight</strong> (<em>bool</em>) &#8211; Use matplotlib tight layout</li>
<li><strong>mins</strong> (<em>lst(fl64)</em>) &#8211; Minimum values of recarray fields</li>
<li><strong>maxs</strong> (<em>lst(fl64)</em>) &#8211; Maximum values of recarray fields</li>
<li><strong>frequency</strong> (<em>bool</em>) &#8211; If True, the first element of the return tuple will be the counts normalized by the length of data, i.e., n/len(x)</li>
<li><strong>bins</strong> (<em>int or lst(lst(int))</em>) &#8211; If an integer is given, bins + 1 bin edges are returned. Unequally spaced bins are supported if bins is a list of sequences for each histogram.</li>
<li><strong>ylim</strong> (<em>tuples - 2 element tuple with y limits for histograms</em>) &#8211; y-axis limits for histograms.</li>
<li><strong>labels</strong> (<em>lst(str)</em>) &#8211; Names to use instead of parameter names in plot</li>
<li><strong>filename</strong> (<em>str</em>) &#8211; Name of file to save plot. File ending determines plot type (pdf, png, ps, eps, etc.). Plot types available depends on the matplotlib backend in use on the system. Plot will not be displayed.</li>
<li><strong>fontsize</strong> (<em>fl64</em>) &#8211; Size of font</li>
<li><strong>xticks</strong> (<em>int</em>) &#8211; Number of ticks on xaxes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict(lst(int),lst(fl64)) - dictionary of histogram data (counts,bins) keyed by name</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="matk.sampleset.corr">
<code class="descclassname">matk.sampleset.</code><code class="descname">corr</code><span class="sig-paren">(</span><em>rc1</em>, <em>rc2</em>, <em>type='pearson'</em>, <em>plot=False</em>, <em>printout=True</em>, <em>plotvals=True</em>, <em>figsize=None</em>, <em>title=None</em><span class="sig-paren">)</span><a class="headerlink" href="#matk.sampleset.corr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate correlation coefficients of parameters and responses</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rc1</strong> &#8211; Data</li>
<li><strong>rc2</strong> &#8211; Data</li>
<li><strong>type</strong> (<em>str</em>) &#8211; Type of correlation coefficient (pearson by default, spearman also avaialable)</li>
<li><strong>plot</strong> (<em>bool</em>) &#8211; If True, plot correlation matrix</li>
<li><strong>printout</strong> (<em>bool</em>) &#8211; If True, print correlation matrix with row and column headings</li>
<li><strong>plotvals</strong> (<em>bool</em>) &#8211; If True, print correlation coefficients on plot matrix</li>
<li><strong>figsize</strong> (<em>tuple(fl64,fl64)</em>) &#8211; Width and height of figure in inches</li>
<li><strong>title</strong> (<em>str</em>) &#8211; Title of plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ndarray(fl64) &#8211; Correlation coefficients</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="autodoc_pest_io.html" title="Parameter"
             >next</a> |</li>
        <li class="right" >
          <a href="autodoc_observation.html" title="Observation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MATK 0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="autodoc.html" >Class Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, Dylan R. Harp.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>